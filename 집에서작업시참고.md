# 🏠 집에서 작업할 때 빠른 참고 가이드

## 🚀 빠른 시작

### 개발 서버 시작
```bash
cd "D:\1.Project\test\WooDal"
npm start
```
- 브라우저에서 http://localhost:3000 자동 열림
- CSS 수정 후 **Ctrl+Shift+R** 사용 (강제 새로고침)

### 배포 (프로덕션)
```bash
npm run build && firebase deploy --only hosting
```
- 배포 URL: https://woodal-budget.web.app
- 모바일에서도 확인 필수!

---

## ⚠️ 중요한 규칙들

### 1. React Hook 규칙
```javascript
// ❌ 잘못된 예
function App() {
  if (condition) return null; // Early return

  const [state, setState] = useState(0); // 🚫 에러!
}

// ✅ 올바른 예
function App() {
  const [state, setState] = useState(0); // Hook은 항상 최상단!

  if (condition) return null;
}
```

### 2. CSS 수정 후 새로고침
- **F5**: HTML/JS만 새로고침 (CSS는 캐시 사용)
- **Ctrl+Shift+R**: 모든 파일 다시 다운로드 ✅

### 3. Service Worker 캐시 버전
배포할 때마다 버전 올리기!
```javascript
// public/service-worker.js
const CACHE_NAME = 'woodal-budget-v2'; // v3, v4, v5...
const RUNTIME_CACHE = 'woodal-runtime-v2';
```

---

## 📁 핵심 파일 위치

### 주요 컴포넌트
- `src/App.js` - 메인 앱 (Hook 순서 주의!)
- `src/components/layout/Header.js` - 헤더 (로그아웃, 초대 알림)
- `src/components/layout/Sidebar.js` - 반응형 네비게이션
- `src/pages/CalendarPage.js` - 달력 페이지
- `src/pages/SettingsPage.js` - 설정 페이지 (아바타)

### 스타일
- `src/App.css` - 커스텀 반응형 스타일
- `src/index.css` - 전역 스타일

### Firebase
- `src/firebase/config.js` - Firebase 초기화
- `src/firebase/authService.js` - 로그인/로그아웃
- `src/firebase/databaseService.js` - CRUD 함수들
- `.env` - Firebase 설정 (절대 커밋 금지!)

### PWA
- `public/service-worker.js` - 캐싱 전략
- `public/manifest.json` - PWA 메타데이터
- `src/serviceWorkerRegistration.js` - Service Worker 등록

---

## 🐛 문제 해결

### 빈 화면이 나올 때
1. 개발자 도구 (F12) 열기
2. Console 탭에서 에러 확인
3. React Hook 에러 → Hook 순서 확인
4. Firebase 에러 → `.env` 파일 확인

### Tailwind 반응형 클래스 안 될 때
커스텀 CSS 미디어 쿼리 사용:
```css
/* App.css */
.my-component {
  display: block; /* 데스크톱 기본값 */
}

@media (max-width: 768px) {
  .my-component {
    display: none !important; /* 모바일 */
  }
}
```

### 배포 후 모바일에서 예전 버전 나올 때
1. Service Worker 캐시 버전 올리기
2. 다시 빌드 & 배포
3. 모바일에서 시크릿 모드로 확인

---

## 💡 개발 팁

### 1. 반응형 테스트
```
F12 → Ctrl+Shift+M (디바이스 모드)
테스트 디바이스:
- iPhone SE (375px)
- iPhone 12 Pro (390px)
- Desktop (1920px)
```

### 2. Firebase 콘솔 확인
- Database: https://console.firebase.google.com/project/woodal-budget/database
- Authentication: https://console.firebase.google.com/project/woodal-budget/authentication

### 3. 빌드 크기 확인
```bash
npm run build
```
- 목표: JS < 200 kB (gzip)
- 현재: JS 165.69 kB ✅

---

## 🔄 일반적인 워크플로우

### 새 기능 추가
1. 새 브랜치 생성 (선택)
2. 코드 작성
3. localhost:3000에서 테스트 (Ctrl+Shift+R)
4. 모바일 뷰 테스트 (Ctrl+Shift+M)
5. 빌드 확인 (`npm run build`)
6. 배포 (`firebase deploy --only hosting`)
7. 실제 URL에서 최종 확인

### CSS 수정
1. CSS 파일 수정
2. **Ctrl+Shift+R** 새로고침
3. 데스크톱/모바일 모두 확인
4. 배포

### 긴급 버그 수정
1. 문제 재현
2. 개발자 도구에서 에러 확인
3. 수정
4. 즉시 빌드 & 배포
5. 모바일/데스크톱 확인

---

## 📊 현재 상태

### 완료된 기능
- ✅ Firebase Authentication (Google 로그인)
- ✅ Firebase Realtime Database (실시간 동기화)
- ✅ 가족 공유 가계부
- ✅ 이메일 초대 시스템
- ✅ 모바일 반응형 디자인
- ✅ PWA (오프라인 지원)
- ✅ 아바타 시스템
- ✅ Service Worker (네트워크 우선)

### 다음 작업 후보
- [ ] 예산 관리 시스템
- [ ] 푸시 알림
- [ ] 차트 라이브러리 추가
- [ ] TypeScript 마이그레이션

---

## 🆘 긴급 연락처

- Firebase 콘솔: https://console.firebase.google.com/
- 개발일지: `개발일지.md`
- SOLID 가이드: `SOLID.md`
- 배포 가이드: `DEPLOYMENT.md`

---

**마지막 업데이트**: 2025-10-16 (회사)
**다음 작업**: 집에서 확인 후 추가 기능 개발
